import { Callout } from "nextra-theme-docs";
import dedent from "dedent-js";

import { APIRequest } from "../../../../components/apirequest";

# Category resource

## Search for a category

<APIRequest
    endpoint="/categories"
    title="Search for a category"
    description="Search for a category using a variety of different filters."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "include",
            type: "List of strings",
            description:
                "The related resources to include in the response.\n\nPossible values: `followers`, `images`",
        },
        {
            name: "filter[search]",
            type: "String",
            description: "Search for a category.",
        },
        {
            name: "filter[name]",
            type: "String",
            description: "Returns characters whose first name matches the exact specified value.",
        },
        {
            name: "filter[name.iexact]",
            type: "String",
            description:
                "Returns characters whose first name matches the exact specified value (case-insensitive).",
        },
        {
            name: "filter[name.contains]",
            type: "String",
            description:
                "Returns characters whose first name contains the specified value.",
        },
        {
            name: "filter[name.icontains]",
            type: "String",
            description:
                "Returns characters whose first name contains the specified value (case-insensitive).",
        },
        {
            name: "filter[name.startswith]",
            type: "String",
            description:
                "Returns characters whose first name starts with the specified value.",
        },
        {
            name: "filter[name.endswith]",
            type: "String",
            description:
                "Returns characters whose first name ends with the specified value.",
        },
        {
            name: "filter[name.regex]",
            type: "POSIX RegEx",
            description:
                "Returns characters whose first name matches the specified **POSIX RegEx**.",
        },
        {
            name: "filter[name.iregex]",
            type: "POSIX RegEx",
            description:
                "Returns characters whose first name matches the specified **POSIX RegEx** (case-insensitive).",
        },
        {
            name: "filter[createdAt]",
            type: "ISO 8601",
            description: "Returns characters created at a certain date and time."
        },
        {
            name: "filter[createdAt.second]",
            type: "Number (0-59)",
            description: "Returns characters created at a specific second."
        },
        {
            name: "filter[createdAt.minute]",
            type: "Number (0-59)",
            description: "Returns characters created at a specific minute."
        },
        {
            name: "filter[createdAt.hour]",
            type: "Number (0-23)",
            description: "Returns characters created at a specific hour."
        },
        {
            name: "filter[createdAt.day]",
            type: "Number (1-31)",
            description: "Returns characters created at a specific day of the month."
        },
        {
            name: "filter[createdAt.month]",
            type: "Number (1-12)",
            description: "Returns characters created during a specific month."
        },
        {
            name: "filter[createdAt.year]",
            type: "Number (0-2023)",
            description: "Returns characters created during a spcific year."
        },
        {
            name: "filter[updatedAt]",
            type: "ISO 8601",
            description: "Returns characters created at a certain date and time."
        },
        {
            name: "filter[updatedAt.second]",
            type: "Number (0-59)",
            description: "Returns characters created at a specific second."
        },
        {
            name: "filter[updatedAt.minute]",
            type: "Number (0-59)",
            description: "Returns characters created at a specific minute."
        },
        {
            name: "filter[updatedAt.hour]",
            type: "Number (0-23)",
            description: "Returns characters created at a specific hour."
        },
        {
            name: "filter[updatedAt.day]",
            type: "Number (1-31)",
            description: "Returns characters created at a specific day of the month."
        },
        {
            name: "filter[updatedAt.month]",
            type: "Number (1-12)",
            description: "Returns characters created during a specific month."
        },
        {
            name: "filter[updatedAt.year]",
            type: "Number (0-2023)",
            description: "Returns characters created during a spcific year."
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: dedent`
                {
                    "links": {
                        "first": "https://api.nekosapi.com/v2/categories?page%5Blimit%5D=1",
                        "last": "https://api.nekosapi.com/v2/categories?page%5Blimit%5D=1&page%5Boffset%5D=14",
                        "next": "https://api.nekosapi.com/v2/categories?page%5Blimit%5D=1&page%5Boffset%5D=1",
                        "prev": null
                    },
                    "data": [
                        {
                            "type": "category",
                            "id": "60304e04-6b0b-4930-a3dc-ba8d9e36d160",
                            "attributes": {
                                "name": "Illustration",
                                "description": "The image is an illustration.",
                                "sub": "format",
                                "isNsfw": false,
                                "timestamps": {
                                    "created": "2023-01-26T04:35:57.105000Z",
                                    "updated": "2023-01-26T04:35:57.105000Z"
                                }
                            },
                            "relationships": {
                                "images": {
                                    "meta": {
                                        "count": 18
                                    },
                                    "data": [
                                        {
                                            "type": "image",
                                            "id": "ffe9c34d-ae51-4b2a-8ad2-d47fcbbd3c22"
                                        },
                                        {
                                            "type": "image",
                                            "id": "ff7e0f68-dd76-4689-82dd-1c1427399dc9"
                                        },
                                        {
                                            "type": "image",
                                            "id": "feddfcd7-a898-45aa-acf9-a5e99603d128"
                                        },
                                        {
                                            "type": "image",
                                            "id": "fea6d9f0-cdcc-4c4d-bf9c-26497edac5fa"
                                        },
                                        {
                                            "type": "image",
                                            "id": "fea2211a-7d0a-4f53-868d-f888549d198f"
                                        },
                                        {
                                            "type": "image",
                                            "id": "fe74c18b-c0bf-432c-a8cb-ae314b760a27"
                                        },
                                        {
                                            "type": "image",
                                            "id": "ffdc3cff-ee50-4cfd-8f4a-de3ff9cc4985"
                                        },
                                        {
                                            "type": "image",
                                            "id": "fdc4e4f8-e14a-4611-8569-93e7ca718127"
                                        },
                                        {
                                            "type": "image",
                                            "id": "f60d68ac-0ab8-45f7-9f7b-b1b7fa037bbc"
                                        },
                                        {
                                            "type": "image",
                                            "id": "f60cb06c-dcd4-4047-a55c-c71cd123daf1"
                                        },
                                        {
                                            "type": "image",
                                            "id": "ffae063f-c63f-49e9-8bf1-afcfe281ee9e"
                                        },
                                        {
                                            "type": "image",
                                            "id": "ffac1a31-754a-4534-8c2f-6249c3bb4ed5"
                                        },
                                        {
                                            "type": "image",
                                            "id": "fe789e14-d438-47e2-9146-051c25a04ccd"
                                        },
                                        {
                                            "type": "image",
                                            "id": "feb6aa1d-f5f2-4e3d-b7a0-689af6b3cd98"
                                        },
                                        {
                                            "type": "image",
                                            "id": "ff6788e9-9fc1-4c94-8701-5ff2bb0a7af5"
                                        },
                                        {
                                            "type": "image",
                                            "id": "7a05b000-f3ad-4c57-a71d-a8b50776b70d"
                                        },
                                        {
                                            "type": "image",
                                            "id": "6a2e6ea6-2976-40df-9dd2-22d6c4590cfd"
                                        },
                                        {
                                            "type": "image",
                                            "id": "e54a044b-b71d-46ce-87e6-390447def884"
                                        }
                                    ],
                                    "links": {
                                        "self": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/relationships/images",
                                        "related": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/images"
                                    }
                                },
                                "followers": {
                                    "meta": {
                                        "count": 0
                                    },
                                    "data": [],
                                    "links": {
                                        "self": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/relationships/followers",
                                        "related": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/followers"
                                    }
                                }
                            },
                            "links": {
                                "self": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160"
                            }
                        }
                    ],
                    "meta": {
                        "pagination": {
                            "count": 14,
                            "limit": 1,
                            "offset": 0
                        }
                    }
                }
                `,
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>


## Get a category by its ID

<APIRequest
    endpoint="/categories/:id"
    title="Get a category by its ID"
    description="Get a category's details by its ID."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The category's ID.",
            location: "path",
            required: true,
        },
        {
            name: "include",
            type: "List of strings",
            description:
                "The related resources to include in the response.\nPossible values: images,followers",
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: dedent`
                {
                    "data": {
                        "type": "category",
                        "id": "60304e04-6b0b-4930-a3dc-ba8d9e36d160",
                        "attributes": {
                            "name": "Illustration",
                            "description": "The image is an illustration.",
                            "sub": "format",
                            "isNsfw": false,
                            "timestamps": {
                                "created": "2023-01-26T04:35:57.105000Z",
                                "updated": "2023-01-26T04:35:57.105000Z"
                            }
                        },
                        "relationships": {
                            "images": {
                                "meta": {
                                    "count": 18
                                },
                                "data": [
                                    {
                                        "type": "image",
                                        "id": "ffe9c34d-ae51-4b2a-8ad2-d47fcbbd3c22"
                                    }
                                ],
                                "links": {
                                    "self": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/relationships/images",
                                    "related": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/images"
                                }
                            },
                            "followers": {
                                "meta": {
                                    "count": 0
                                },
                                "data": [],
                                "links": {
                                    "self": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/relationships/followers",
                                    "related": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160/followers"
                                }
                            }
                        },
                        "links": {
                            "self": "https://api.nekosapi.com/v2/categories/60304e04-6b0b-4930-a3dc-ba8d9e36d160"
                        }
                    }
                }
                `,
                language: "JSON",
                headers: [
                    "Content-Type: application/vnd.api+json",
                ],
            },
        },
    ]}
/>

## Follow a category

<APIRequest
    method="POST"
    endpoint="/categories/:id/follow"
    title="Follow a category"
    description="Follows a category by its ID."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID",
            description: "The category's ID.",
            required: true,
            location: "path",
        },
    ]}
    responses={[
        {
            code: 204,
            name: "Success",
            description: "The request was completed successfully.",
        },
    ]}
/>

<APIRequest
    method="DELETE"
    endpoint="/categories/:id/follow"
    title="Unfollow a category"
    description="Unfollows a category by its ID."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID",
            description: "The category's ID.",
            required: true,
            location: "path",
        },
    ]}
    responses={[
        {
            code: 204,
            name: "Success",
            description: "The request was completed successfully.",
        },
    ]}
/>