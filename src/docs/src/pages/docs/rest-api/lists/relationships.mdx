import { Callout } from "nextra-theme-docs";

import { APIRequest } from "../../../../components/apirequest";
import {
    stringify,
    list_ref,
    list_schema,
    image_ref,
    image_schema,
    user_ref,
    user_public_schema,
    pagination,
    resource,
} from "../../../../constants/schemas";

# List Relationships

## Get a list's images

<APIRequest
    endpoint="/lists/:id/images"
    title="Get a list's images"
    description="Get a list's images."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([image_schema])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

<APIRequest
    endpoint="/lists/:id/relationships/images"
    title="Get a list's image relationships"
    description="Get a list's image relationships."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([image_ref])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

## Add images to a list

<APIRequest
    method="PATCH"
    endpoint="/lists/:id/relationships/images"
    title="Add images to a list"
    description="Add images to a list."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
        {
            name: "data[].type",
            type: "Literal 'image'",
            description: "The resource type.",
            required: true,
        },
        {
            name: "data[].id",
            type: "UUID v4",
            description: "The image's ID.",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([image_ref])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

## Remove images from a list

<APIRequest
    method="DELETE"
    endpoint="/lists/:id/relationships/images"
    title="Remove images from a list"
    description="Remove images from a list."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
        {
            name: "data[].type",
            type: "Literal 'image'",
            description: "The resource type.",
            required: true,
        },
        {
            name: "data[].id",
            type: "UUID v4",
            description: "The image's ID.",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([image_ref])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

## Get a list's followers

<APIRequest
    endpoint="/lists/:id/followers"
    title="Get a list's followers"
    description="Get a list's followers."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([user_public_schema])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

<APIRequest
    endpoint="/lists/:id/relationships/followers"
    title="Get a list's follower relationships"
    description="Get a list's follower relationships."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([user_ref])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

## Follow a list

<APIRequest
    method="PATCH"
    endpoint="/users/:user-id/relationships/followed-lists"
    title="Follow a list"
    description="Follow a list."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "user-id",
            type: "UUID v4",
            description: "The logged in user's ID.",
            location: "path",
            required: true,
        },
        {
            name: "data[].type",
            type: "Literal 'list'",
            description: "The resource type.",
            required: true,
        },
        {
            name: "data[].id",
            type: "UUID v4",
            description: "The list's ID.",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([list_ref])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

## Unfollow a list

<APIRequest
    method="DELETE"
    endpoint="/users/:user-id/relationships/followed-lists"
    title="Unfollow a list"
    description="Unfollow a list."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "user-id",
            type: "UUID v4",
            description: "The logged in user's ID.",
            location: "path",
            required: true,
        },
        {
            name: "data[].type",
            type: "Literal 'list'",
            description: "The resource type.",
            required: true,
        },
        {
            name: "data[].id",
            type: "UUID v4",
            description: "The list's ID.",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource([list_ref])),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

## Get a list's user

<APIRequest
    endpoint="/lists/:id/user"
    title="Get a list's user"
    description="Get a list's user."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource(user_public_schema)),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>

<APIRequest
    endpoint="/lists/:id/relationships/user"
    title="Get a list's follower relationships"
    description="Get a list's user relationship."
    headers={[
        {
            name: "Accept",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Content-Type",
            description: "application/vnd.api+json",
            required: true,
        },
        {
            name: "Authorization",
            description: "Bearer &lt;access-token&gt;",
            required: true,
        },
    ]}
    parameters={[
        {
            name: "id",
            type: "UUID v4",
            description: "The list's ID.",
            location: "path",
            required: true,
        },
    ]}
    responses={[
        {
            code: 200,
            name: "Success",
            description: "The request was completed successfully.",
            example: {
                code: stringify(resource(user_ref)),
                language: "JSON",
                headers: ["Content-Type: application/vnd.api+json"],
            },
        },
    ]}
/>
